(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/fill-question-page/fill-question-page"],{"049d":function(e,t,n){"use strict";(function(e){n("5662");s(n("66fd"));var t=s(n("82d8"));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"050e":function(e,t,n){"use strict";n.r(t);var s=n("5f12"),r=n.n(s);for(var u in s)"default"!==u&&function(e){n.d(t,e,(function(){return s[e]}))}(u);t["default"]=r.a},"5f12":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=u(n("4795")),r=u(n("1d44"));function u(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,s,r,u,i){try{var o=e[u](i),a=o.value}catch(c){return void n(c)}o.done?t(a):Promise.resolve(a).then(s,r)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(s,r){var u=e.apply(t,n);function o(e){i(u,s,r,o,a,"next",e)}function a(e){i(u,s,r,o,a,"throw",e)}o(void 0)}))}}var a={data:function(){return{paper:"",radio:!1,results:[],check:!1}},onLoad:function(t){var n=this;return o(s.default.mark((function u(){var i,o,a,c;return s.default.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i=t.id,s.next=3,r.default.ApiCall("get","/api/paper/getById/"+i);case 3:o=s.sent,console.log("renjian",o),a=o.data,a.question.forEach((function(e,t){3===e.type?n.results.push({questionId:e.id,content:"",userId:16,type:3,name:e.title}):n.results.push({questionId:e.id,codes:[],userId:16,type:e.code,name:e.title})})),n.paper=a,c=n.paper.title,c.length>9&&(c=c.substr(0,9)+"..."),e.setNavigationBarTitle({title:c});case 11:case"end":return s.stop()}}),u)})))()},methods:{submitAnswer:function(){var t=this;return o(s.default.mark((function n(){var u,i,o;return s.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log(t.results,"任建"),u=0;case 2:if(!(u<t.results.length)){n.next=16;break}if(i=t.results[u],i.codesJson=JSON.stringify(i.codes),3!==i.type||""!==i.content&&null!==i.content){n.next=10;break}return t.results.splice(u--,1),n.abrupt("continue",13);case 10:if(3==i.type||0!=i.codes.length){n.next=13;break}return t.results.splice(u--,1),n.abrupt("continue",13);case 13:u++,n.next=2;break;case 16:return n.next=18,r.default.ApiJsonCall("post","/api/paper/submit_paper",t.results);case 18:o=n.sent,console.log(o,"大侠来了"),200===o.code&&(e.showModal({title:"消息提示",content:"提交成功!"}),t.results.forEach((function(e,t){e.content="",e.codes=[]})));case 21:case"end":return n.stop()}}),n)})))()},changeRadio:function(e,t){for(var n=parseInt(e.split(":")[0]),s=parseInt(e.split(":")[1]),r=0,u=0;u<this.results.length;u++)this.results[u].questionId===n&&(this.results[u].codes.indexOf(s)>=0?this.results[u].codes.splice(this.results[u].codes.indexOf(s),1):("单选题"===t&&(this.results[u].codes=[]),this.results[u].codes.push(s)),r=1);if(0==r){var i={questionId:n,codes:[]};i.codes.push(s),this.results.push(i)}},checkSeleted:function(e){for(var t=parseInt(e.split(":")[0]),n=parseInt(e.split(":")[1]),s=0;s<this.results.length;s++)if(this.results[s].questionId===t)return this.results[s].codes.indexOf(n)>=0}}};t.default=a}).call(this,n("543d")["default"])},"65a1":function(e,t,n){"use strict";var s=n("8a02"),r=n.n(s);r.a},"82d8":function(e,t,n){"use strict";n.r(t);var s=n("c121"),r=n("050e");for(var u in r)"default"!==u&&function(e){n.d(t,e,(function(){return r[e]}))}(u);n("65a1");var i,o=n("f0c5"),a=Object(o["a"])(r["default"],s["b"],s["c"],!1,null,"5c1f6072",null,!1,s["a"],i);t["default"]=a.exports},"8a02":function(e,t,n){},c121:function(e,t,n){"use strict";var s,r=function(){var e=this,t=e.$createElement,n=(e._self._c,e.__map(e.paper.question,(function(t,n){var s=e.__map(t.answer,(function(n,s){var r=e.checkSeleted(t.id+":"+n.code);return{$orig:e.__get_orig(n),m0:r}}));return{$orig:e.__get_orig(t),l0:s}})));e.$mp.data=Object.assign({},{$root:{l1:n}})},u=[];n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return s}))}},[["049d","common/runtime","common/vendor"]]]);